#include <IRremote.h>

int khz = 38;
IRsend irsend;
bool running = false;

void setup() {
  pinMode(LED_BUILTIN, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  Serial.println("Start Loop");
  unsigned int onSignal[] = {4432, 4348, 588, 1576, 588, 1576, 588, 1576, 588, 1576, 588, 524, 556, 524, 556, 1580, 584, 496, 584, 496, 588, 496, 584, 524, 556, 496, 584, 1576, 588, 1576, 588, 524, 556, 1580, 588, 520, 560, 496, 584, 496, 584, 500, 584, 496, 584, 496, 584, 1576, 588, 1576, 588, 1576, 588, 1580, 584, 1580, 584, 1580, 584, 1580, 588, 1576, 588, 524, 556, 496, 584, 496, 584, 524, 556, 500, 584, 524, 556, 524, 556, 496, 584, 500, 580, 1580, 588, 1576, 588, 524, 556, 496, 584, 1580, 584, 496, 588, 492, 588, 492, 588, 496, 584, 1576, 588, 1580, 584, 496, 584, 500, 580, 500, 584, 524, 556, 1580, 584, 1576, 588, 496, 584, 496, 588, 496, 584, 496, 584, 492, 588, 496, 584, 496, 584, 500, 584, 496, 584, 1576, 588, 492, 588, 1576, 588, 500, 580, 496, 588, 1576, 588, 496, 584, 5224, 4432, 4348, 588, 1580, 584, 1580, 584, 1576, 588, 1576, 588, 496, 588, 496, 584, 1576, 588, 496, 584, 496, 584, 496, 584, 524, 556, 500, 584, 1576, 588, 1580, 584, 500, 580, 1576, 588, 500, 584, 496, 584, 496, 584, 492, 588, 496, 584, 524, 556, 1580, 584, 1580, 588, 1576, 588, 1580, 584, 1576, 588, 1576, 588, 1576, 588, 1580, 584, 496, 588, 496, 584, 496, 584, 492, 588, 496, 584, 524, 560, 520, 560, 492, 588, 524, 556, 1576, 588, 1576, 588, 500, 580, 496, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 524, 560, 1576, 588, 1576, 588, 496, 584, 496, 584, 524, 556, 500, 584, 1576, 588, 1576, 588, 524, 556, 524, 556, 524, 556, 500, 584, 496, 584, 496, 584, 496, 584, 496, 588, 492, 584, 1580, 588, 496, 584, 1576, 588, 496, 584, 496, 588, 1576, 588, 492, 588};
//  unsigned int offSignal[] = {4428, 4352, 588, 1576, 584, 1580, 588, 1576, 588, 1576, 588, 496, 584, 496, 584, 1580, 584, 496, 584, 496, 588, 496, 584, 496, 584, 500, 580, 1580, 584, 1580, 588, 492, 588, 1576, 588, 496, 584, 496, 584, 524, 560, 496, 584, 496, 584, 524, 556, 1580, 584, 1580, 584, 1576, 592, 1576, 588, 1576, 588, 1576, 588, 1576, 588, 1576, 588, 524, 556, 496, 588, 496, 584, 496, 584, 496, 584, 496, 584, 496, 584, 528, 556, 492, 588, 1576, 588, 1580, 584, 496, 584, 500, 584, 1576, 588, 500, 580, 496, 584, 496, 584, 496, 584, 1580, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 1580, 588, 1576, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 496, 588, 492, 588, 492, 588, 496, 584, 496, 584, 500, 580, 1580, 588, 496, 584, 1576, 588, 496, 584, 1580, 584, 1580, 588, 492, 588, 5108, 4432, 4352, 584, 1580, 584, 1580, 584, 1580, 588, 1576, 588, 496, 584, 496, 584, 1580, 584, 496, 588, 496, 584, 500, 580, 496, 584, 496, 584, 1580, 584, 1580, 584, 500, 584, 1576, 588, 496, 584, 496, 588, 492, 584, 500, 584, 492, 588, 524, 556, 1576, 588, 1580, 584, 1580, 588, 1576, 584, 1584, 584, 1576, 588, 1576, 588, 1576, 588, 496, 584, 496, 584, 496, 588, 492, 588, 496, 584, 500, 580, 524, 556, 496, 588, 496, 584, 1580, 584, 1576, 588, 496, 584, 496, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 496, 584, 1580, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 1580, 584, 1580, 588, 1576, 588, 496, 584, 496, 584, 496, 584, 496, 588, 496, 584, 496, 584, 500, 580, 496, 584, 496, 588, 1576, 584, 500, 584, 1580, 584, 524, 556, 1580, 584, 1580, 588, 492, 588};

//  if (running == true) {
//    irsend.sendRaw(offSignal, sizeof(offSignal) / sizeof(offSignal[0]), khz);
//  } else {
    irsend.sendRaw(onSignal, sizeof(onSignal) / sizeof(onSignal[0]), khz);
//  }

  running = !running;

  Serial.println("Sent");

  digitalWrite(LED_BUILTIN, HIGH);
  delay(100);
  digitalWrite(LED_BUILTIN, LOW);

  delete[] onSignal;
//  delete[] offSignal;
  
  delay(3000);
}
